---
import { Image } from "astro:assets";
import { SimpleMarquee } from "./react/SimpleMarquee";
import {
  astro,
  fastapi,
  flutter,
  langchain,
  langgraph,
  mongodb,
  nestjs,
  nextjs,
  nodejs,
  ollama,
  pwa,
  python,
  svelte,
} from "../assets/svgs";
import { Marquee } from "./react/Marquee";
// Define an array of tech stack items
const techStack = [
  {
    name: "Svelte",
    icon: svelte,
    alt: "Svelte/SvelteKit",
  },
  {
    name: "Next.js",
    icon: nextjs,
    alt: "Next.js",
  },
  {
    name: "Python",
    icon: python,
    alt: "Python",
  },
  {
    name: "Node.js",
    icon: nodejs,
    alt: "Node.js",
  },
  {
    name: "LangChain",
    icon: langchain,
    alt: "LangChain",
  },
  {
    name: "Progressive Web App",
    icon: pwa,
    alt: "Progressive Web App",
  },
  {
    name: "Flutter",
    icon: flutter,
    alt: "Flutter",
  },
  {
    name: "FastAPI",
    icon: fastapi,
    alt: "FastAPI",
  },
  {
    name: "MongoDB",
    icon: mongodb,
    alt: "MongoDB",
  },
  {
    name: "NestJS",
    icon: nestjs,
    alt: "NestJS",
  },
  {
    name: "LangGraph",
    icon: langgraph,
    alt: "LangGraph",
  },
  {
    name: "Ollama",
    icon: ollama,
    alt: "Ollama",
  },
  {
    name: "Astro",
    icon: astro,
    alt: "Astro",
  },
];
---

<div class="relative flex w-full flex-col items-center justify-center py-2">
  <Marquee>
    {
      [...techStack, ...techStack].map((tech) => (
        <div class="flex-shrink-0 mx-6 my-2">
          <Image
            src={tech.icon}
            alt={tech.alt}
            class="h-11 w-20 object-contain"
          />
        </div>
      ))
    }
  </Marquee>
</div>
<div
  class="pointer-events-none absolute inset-y-0 left-0 w-1/4 bg-gradient-to-r from-background"
>
</div>
<div
  class="pointer-events-none absolute inset-y-0 right-0 w-1/4 bg-gradient-to-l from-background"
>
</div>

<style is:global>
  @keyframes marquee {
    from {
      transform: translateX(0%);
    }
    to {
      transform: translateX(-125%);
    }
  }
  @keyframes marquee-vertical {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(-100%);
    }
  }

  .animate-marquee {
    animation: marquee var(--duration, 5s) linear infinite;
    min-width: 100%;
    will-change: transform;
  }
  .animate-marquee-vertical {
    animation: marquee-vertical var(--duration, 40s) linear infinite;
  }
</style>
