---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import Badge from "../components/Badge.astro";
import TextReveal from "../components/TextReveal.astro";
import ThemeChanger from "../components/svelte/ThemeChanger.svelte";

// SEO metadata
const pageTitle = "Uses - Rohit Kushwaha";
const description =
  "A list of hardware, software, and tools I use for development, design, and productivity.";
const canonicalURL = new URL("/uses", Astro.site || Astro.url.origin).href;

// Uses data organized by category
const usesCategories = [
  {
    title: "Development Environment",
    icon: "üíª",
    items: [
      {
        name: "Google's Antigravity",
        description:
          "AI-powered coding assistant by Google DeepMind for advanced agentic coding.",
        link: "https://www.antigravity.google/",
        itemIcon: "material-symbols:antigravity",
      },
      {
        name: "VS Code",
        description:
          "My primary code editor - lightweight, extensible, and powerful.",
        link: "https://code.visualstudio.com",
        itemIcon: "simple-icons:visualstudiocode",
      },
      {
        name: "Kiro",
        description:
          "AI-native IDE for spec-driven development and intelligent coding.",
        link: "https://kiro.dev",
        itemIcon: "simple-icons:amazonwebservices",
      },
      {
        name: "Fish Shell",
        description:
          "Smart shell with autosuggestions and syntax highlighting out of the box.",
        link: "https://fishshell.com",
        itemIcon: "simple-icons:gnometerminal",
      },
    ],
  },
  {
    title: "Tech Stack",
    icon: "‚ö°",
    items: [
      {
        name: "SvelteKit",
        description:
          "My favorite framework for building fast, modern full-stack web apps.",
        link: "https://kit.svelte.dev",
        itemIcon: "simple-icons:svelte",
      },
      {
        name: "Astro",
        description:
          "Content-focused framework for blazing-fast static sites. Powers this portfolio!",
        link: "https://astro.build",
        itemIcon: "simple-icons:astro",
      },
      {
        name: "TailwindCSS",
        description: "Utility-first CSS framework for rapid UI development.",
        link: "https://tailwindcss.com",
        itemIcon: "simple-icons:tailwindcss",
      },
    ],
  },
  {
    title: "Browsers",
    icon: "üåê",
    items: [
      {
        name: "Brave",
        description:
          "Privacy-focused browser with built-in ad blocking. My daily driver.",
        link: "https://brave.com",
        itemIcon: "simple-icons:brave",
      },
      {
        name: "Perplexity Comet",
        description: "AI-native browser with integrated search and answers.",
        link: "https://perplexity.ai/comet",
        itemIcon: "simple-icons:perplexity",
      },
      {
        name: "Google Chrome",
        description: "For development testing and debugging with DevTools.",
        link: "https://google.com/chrome",
        itemIcon: "simple-icons:googlechrome",
      },
    ],
  },
  {
    title: "Hardware",
    icon: "üñ•Ô∏è",
    items: [
      {
        name: "AMD Ryzen 5 5600H",
        description:
          "6-core/12-thread processor powering my development workflow.",
        link: null,
        itemIcon: "simple-icons:amd",
      },
      {
        name: "NVIDIA RTX 3060 12GB",
        description: "GPU for AI/ML workloads and occasional gaming.",
        link: null,
        itemIcon: "simple-icons:nvidia",
      },
      {
        name: "32GB DDR4 RAM",
        description:
          "Plenty of memory for running multiple dev environments and browsers.",
        link: null,
        itemIcon: "mdi:memory",
      },
    ],
  },
  {
    title: "AI Assistants",
    icon: "ü§ñ",
    items: [
      {
        name: "Perplexity",
        description: "AI-powered search engine for research and fact-checking.",
        link: "https://perplexity.ai",
        itemIcon: "simple-icons:perplexity",
      },
      {
        name: "Google Gemini",
        description:
          "Google's multimodal AI for coding, writing, and analysis.",
        link: "https://gemini.google.com",
        itemIcon: "simple-icons:googlegemini",
      },
      {
        name: "Claude",
        description:
          "Anthropic's AI assistant for coding and complex reasoning.",
        link: "https://claude.ai",
        itemIcon: "simple-icons:anthropic",
      },
      {
        name: "ChatGPT",
        description:
          "OpenAI's conversational AI for brainstorming and assistance.",
        link: "https://chat.openai.com",
        itemIcon: "simple-icons:openai",
      },
    ],
  },
];

// Structured data
const jsonLd = {
  "@context": "https://schema.org",
  "@type": "WebPage",
  name: pageTitle,
  description: description,
  author: {
    "@type": "Person",
    name: "Rohit Kushwaha",
  },
};
---

<Layout title={pageTitle} description={description} canonicalURL={canonicalURL}>
  <div class="page-content relative z-0">
    <Navbar />

    <div
      class="w-[95%] xs:w-[90%] sm:w-[85%] md:w-[80%] lg:w-[75%] xl:w-[70%] 2xl:w-[65%] relative z-20 mx-auto mt-[120px] md:mt-[160px] mb-32"
    >
      <!-- Header Section -->
      <div
        class="uses-header border border-[var(--border-color)] p-6 sm:p-8 md:p-12 relative"
      >
        <div class="size-4 bg-[var(--border-color)] absolute -top-2 -left-2">
        </div>

        <Badge size="sm" className="mb-4">
          <span class="text-xs font-bold uppercase">Uses</span>
        </Badge>

        <TextReveal
          element="h1"
          text="My Setup & Tools"
          className="text-3xl sm:text-4xl md:text-5xl font-semibold uses-title split-text"
          splitBy="chars"
          stagger={0.03}
          from="bottom"
        />

        <p
          class="text-sm sm:text-base md:text-lg text-[var(--text-secondary)] mt-4 max-w-2xl"
        >
          A curated list of hardware, software, and tools I use daily for
          development, design, and productivity. Inspired by <a
            href="https://uses.tech"
            target="_blank"
            rel="noopener noreferrer"
            class="text-[var(--accent-primary)] hover:underline">uses.tech</a
          >.
        </p>
      </div>

      <!-- Uses Categories -->
      {
        usesCategories.map((category, categoryIndex) => (
          <div
            class="uses-category border border-[var(--border-color)] border-t-0 p-6 sm:p-8 md:p-12"
            data-category={categoryIndex}
          >
            <div class="flex items-center gap-3 mb-6">
              <span class="text-2xl">{category.icon}</span>
              <h2 class="text-xl sm:text-2xl font-medium category-title">
                {category.title}
              </h2>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              {category.items.map((item, itemIndex) => (
                <div
                  class="uses-item group p-4 border border-[var(--border-color)] hover:border-[var(--accent-primary)]   "
                  data-item={itemIndex}
                >
                  <div class="flex items-start justify-between gap-3">
                    <div class="flex-1">
                      <div class="flex items-center gap-2">
                        <iconify-icon
                          icon={item.itemIcon}
                          class="text-lg text-[var(--text-secondary)] group-hover:text-[var(--accent-primary)]  "
                        />
                        <h3 class="font-medium text-base sm:text-lg group-hover:text-[var(--accent-primary)]  ">
                          {item.name}
                        </h3>
                      </div>
                      <p class="text-sm text-[var(--text-secondary)] mt-2 leading-relaxed">
                        {item.description}
                      </p>
                    </div>
                    {item.link && (
                      <a
                        href={item.link}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="text-[var(--text-secondary)] hover:text-[var(--accent-primary)]   shrink-0"
                        aria-label={`Visit ${item.name}`}
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="18"
                          height="18"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        >
                          <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" />
                          <polyline points="15 3 21 3 21 9" />
                          <line x1="10" y1="14" x2="21" y2="3" />
                        </svg>
                      </a>
                    )}
                  </div>
                </div>
              ))}
            </div>
          </div>
        ))
      }

      <!-- CTA Section -->
      <div
        class="border border-[var(--border-color)] border-t-0 p-6 sm:p-8 md:p-12 relative"
      >
        <TextReveal
          element="h3"
          text="Curious about something specific?"
          className="text-xl font-medium"
          splitBy="chars"
          stagger={0.03}
          from="top"
          delay={0.5}
        />

        <p class="text-sm sm:text-base text-[var(--text-secondary)] mt-3">
          Feel free to reach out if you want to know more about any tool I use
          or need recommendations!
        </p>

        <a
          href="mailto:rohitk290106@gmail.com"
          class="inline-flex items-center justify-center px-6 py-3 mt-4 border border-[var(--border-color)] hover:bg-[var(--accent-primary)] hover:text-white"
        >
          Ask Me Anything üí¨
        </a>

        <div
          class="size-4 bg-[var(--border-color)] absolute -bottom-2 -right-2 z-10"
        >
        </div>
      </div>
    </div>

    <Footer />
  </div>

  <!-- Theme changer -->
  <div class="sticky bottom-8 right-8 z-50">
    <div class="flex justify-end sm:pr-8 pr-5">
      <ThemeChanger client:only="svelte" />
    </div>
  </div>

  <!-- Load Iconify -->
  <script
    src="https://code.iconify.design/iconify-icon/2.1.0/iconify-icon.min.js"
  ></script>

  <!-- Structured Data -->
  <script type="application/ld+json" set:html={JSON.stringify(jsonLd)} />
</Layout>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  import Lenis from "lenis";

  gsap.registerPlugin(ScrollTrigger);

  // Initialize smooth scrolling
  const lenis = new Lenis();
  function raf(time: number) {
    lenis.raf(time);
    requestAnimationFrame(raf);
  }
  requestAnimationFrame(raf);

  document.addEventListener("DOMContentLoaded", () => {
    // Animate header
    gsap.fromTo(
      ".uses-header",
      { opacity: 0, y: 30 },
      { opacity: 1, y: 0, duration: 0.8, ease: "power3.out" },
    );

    // Animate categories on scroll
    const categories = document.querySelectorAll(".uses-category");
    categories.forEach((category, index) => {
      gsap.set(category, { opacity: 0, y: 30 });

      ScrollTrigger.create({
        trigger: category,
        start: "top 85%",
        once: true,
        onEnter: () => {
          gsap.to(category, {
            opacity: 1,
            y: 0,
            duration: 0.6,
            delay: index * 0.1,
            ease: "power2.out",
          });

          // Animate items within category
          const items = category.querySelectorAll(".uses-item");
          items.forEach((item, itemIndex) => {
            gsap.fromTo(
              item,
              { opacity: 0, y: 20, scale: 0.98 },
              {
                opacity: 1,
                y: 0,
                scale: 1,
                duration: 0.4,
                delay: index * 0.1 + 0.2 + itemIndex * 0.05,
                ease: "back.out(1.2)",
              },
            );
          });
        },
      });
    });
  });
</script>

<style>
  .uses-header,
  .uses-category {
    opacity: 0;
  }

  .uses-title {
    overflow: hidden;
  }

  .uses-item {
    will-change: transform, opacity;
  }

  .uses-item:hover {
    transform: translateY(-2px);
  }

  @media (prefers-reduced-motion: reduce) {
    .uses-header,
    .uses-category {
      opacity: 1;
    }

    .uses-item:hover {
      transform: none;
    }
  }
</style>
